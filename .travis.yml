language: node_js

cache:
  npm: true
  
env:
  global:
    - REACT_ENV=development
    - REACT_APP_LOG_LEVEL=debug
    - REACT_APP_NETWORK_ID=6000
    - MNEMONIC=choice congress hobby buddy dutch busy army eager empty solution start grunt

install:
  - npm install -g ganache-cli truffle
  
before_script:
  - git clone https://github.com/GoodDollar/GoodContracts
  - cd GoodContracts
  - npm i
  - ganache-cli -m $MNEMONIC --port 9545 --networkId 6000 -g 10000000000 &
  - truffle compile
  - truffle migrate --network development
  - cd ..

script:
  - npm run build
  - npm run coverage
