var Module={'locateFile':function(_0x18b5fd){return'./'+_0x18b5fd;}};Module['onRuntimeInitialized']=function(){postMessage({'process':'preload'});};Module['setStatus']=function(_0x53fe74){};Module['onAbort']=function(_0x23c90c){console['error']('ZoOm\x20Error:\x20832765\x20'+_0x23c90c);};try{var versionString='';if(this&&this['location']&&this['location']['search']){versionString=this['location']['search'];}var workerUrl='./011c90516755d702cfb4205ca9d93e21fe6683b8.js'+versionString;importScripts(workerUrl);}catch(_0x20d701){postMessage({'process':'failedToLoadWasmFile','error':_0x20d701});}var showDebugData=![];var averageProcessTime=0x0;var totalProcesstime=0x0;var processCount=0x0;function createBase64ImageFromIntArray(_0x3cec41){const _0x40ffce=_0x3cec41['reduce'](function(_0x2f183b,_0x1d5b32){return _0x2f183b+String['fromCharCode'](_0x1d5b32);},'');return'data:image/jpeg;base64,'+btoa(_0x40ffce);}onmessage=function(_0x130303){switch(_0x130303['data']['process']){case'preload':Module['preload']();showDebugData=_0x130303['data']['showDebugData'];break;case'init':postMessage({'process':_0x130303['data']['process']});break;case'startPreSession':case'startSession':var _0x4406d2='startSession';if(_0x130303['data']['process']==='startPreSession'){_0x4406d2='startPreSession';}totalProcesstime=0x0;averageProcessTime=0x0;processCount=0x0;var _0x3fb15d=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dca']['length'];index++){_0x3fb15d['push_back'](_0x130303['data']['dca'][index]);}var _0x4bffa0=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dma']['length'];index++){_0x4bffa0['push_back'](_0x130303['data']['dma'][index]);}try{Module[_0x4406d2]({'sae':_0x130303['data']['sae'],'ste':_0x130303['data']['ste'],'scd':_0x130303['data']['scd'],'ssi':_0x130303['data']['ssi'],'sst':_0x130303['data']['sst']},{'dzh':_0x130303['data']['dzh'],'dii':_0x130303['data']['dii'],'dai':_0x130303['data']['dai'],'dzv':_0x130303['data']['dzv'],'dzt':_0x130303['data']['dzt'],'dzm':_0x130303['data']['dzm'],'dcl':_0x130303['data']['dcl'],'dca':_0x3fb15d,'dma':_0x4bffa0,'dvs':_0x130303['data']['dvs']});postMessage({'process':_0x130303['data']['process'],'validateLicenseResult':![]});}catch(_0x149e4f){console['error']('ZoOm\x20Error:\x20832767\x20'+_0x149e4f);}break;case'updateSession':var _0x3fb15d=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dca']['length'];index++){_0x3fb15d['push_back'](_0x130303['data']['dca'][index]);}var _0x4bffa0=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dma']['length'];index++){_0x4bffa0['push_back'](_0x130303['data']['dma'][index]);}try{Module['updateSession']({'sae':_0x130303['data']['sae'],'ste':_0x130303['data']['ste'],'scd':_0x130303['data']['scd'],'ssi':_0x130303['data']['ssi'],'sst':_0x130303['data']['sst']},{'dzh':_0x130303['data']['dzh'],'dii':_0x130303['data']['dii'],'dai':_0x130303['data']['dai'],'dzv':_0x130303['data']['dzv'],'dzt':_0x130303['data']['dzt'],'dzm':_0x130303['data']['dzm'],'dcl':_0x130303['data']['dcl'],'dca':_0x3fb15d,'dma':_0x4bffa0,'dvs':_0x130303['data']['dvs']});}catch(_0x47be17){console['log'](_0x47be17);}break;case'validateLicense':if(Module['validateLicense']){try{var _0x277376=Module['validateLicense'](_0x130303['data']['apptoken'],_0x130303['data']['license']);postMessage({'process':_0x130303['data']['process'],'validateLicenseResult':_0x277376});}catch(_0x744807){postMessage({'process':_0x130303['data']['process'],'validateLicenseResult':![]});}}else{postMessage({'process':_0x130303['data']['process'],'validateLicenseResult':![]});console['warn']('Warning:\x20No\x20license\x20validation\x20module\x20was\x20found.');}break;case'endSession':{var _0x3fb15d=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dca']['length'];index++){_0x3fb15d['push_back'](_0x130303['data']['dca'][index]);}var _0x4bffa0=new Module['VectorStrings']();for(index=0x0;index<_0x130303['data']['dma']['length'];index++){_0x4bffa0['push_back'](_0x130303['data']['dma'][index]);}try{var _0x4e76fd=Module['endSession'](0x0,{'dzh':_0x130303['data']['dzh'],'dii':_0x130303['data']['dii'],'dai':_0x130303['data']['dai'],'dzv':_0x130303['data']['dzv'],'dzt':_0x130303['data']['dzt'],'dzm':_0x130303['data']['dzm'],'dcl':_0x130303['data']['dcl'],'dca':_0x3fb15d,'dma':_0x4bffa0,'dvs':_0x130303['data']['dvs']});var _0x15050a=_0x4e76fd['facemap'];var _0x41977a=new Blob([_0x15050a],{'type':'application/octet-stream'});var _0x2441e1=_0x4e76fd['diagnosticModel'];var _0x31b26b=_0x4e76fd['sessionId'];var _0x41834d=_0x4e76fd['deviceTier'];var _0x2d062c=_0x4e76fd['diagnosticModelEncrypted'];var _0x7fc1a3=0x0;if(_0x4e76fd&&_0x4e76fd['status']){_0x7fc1a3=_0x4e76fd['status']['value'];}var _0x3f1af8={'auditTrail':[],'lowQualityAuditTrail':[],'wasTimeout':_0x4e76fd['wasTimeout'],'timeBasedSessionImages':[],'faceMap':_0x41977a,'diagnosticModel':_0x2441e1,'ssi':_0x31b26b,'deviceTier':_0x41834d,'diagnosticModelEncrypted':_0x2d062c,'status':_0x7fc1a3};_0x4e76fd['auditTrailImages']['forEach'](function(_0x8af911){_0x3f1af8['auditTrail']['push'](createBase64ImageFromIntArray(_0x8af911));});_0x4e76fd['lowQualityAuditTrailImages']['forEach'](function(_0x529a0b){_0x3f1af8['lowQualityAuditTrail']['push'](createBase64ImageFromIntArray(_0x529a0b));});_0x4e76fd['timeBasedImages']['forEach'](function(_0x5cb05a){_0x3f1af8['timeBasedSessionImages']['push'](createBase64ImageFromIntArray(_0x5cb05a));});postMessage({'process':_0x130303['data']['process'],'sessionData':_0x3f1af8});_0x4e76fd['delete']();}catch(_0x3bb883){var _0x3f1af8=null;if(postMessage&&_0x130303&&_0x130303['data']&&_0x130303['data']['process']){postMessage({'process':_0x130303['data']['process'],'sessionData':_0x3f1af8});}}break;}case'initializeWasm':const _0xf1764f=Module['initialize']({'iat':_0x130303['data']['iat'],'ipk':_0x130303['data']['ipk']});postMessage({'process':_0x130303['data']['process'],'initializeWasmResult':_0xf1764f});break;case'processPreSessionFrame':var _0x3f0823=null;var _0x3099c8=Module['processPreSessionFrame'](_0x130303['data']['image'],_0x130303['data']['imageWidth'],_0x130303['data']['imageHeight'],!![]);if(_0x3099c8!==null){_0x3f0823={'feedback':_0x3099c8['feedback']['value'],'fte':_0x3099c8['fte'],'fteReason':_0x3099c8['fteReason'],'nextPhase':_0x3099c8['nextPhase']['value'],'nextPhaseName':_0x3099c8['nextPhase']['constructor']['name'],'deviceTier':_0x3099c8['deviceTier']+0x1,'sizeCategory':_0x3099c8['sizeCategory'],'brightnessScore':_0x3099c8['brightnessScore'],'lowLightDetected':_0x3099c8['lowLightDetected']};_0x3099c8['delete']();}postMessage({'process':_0x130303['data']['process'],'faceResult':_0x3f0823});break;case'processFrame':var _0x37b86e=this['performance']['now']();var _0x3f0823=null;var _0x3099c8=Module['processFrame'](_0x130303['data']['image'],_0x130303['data']['imageWidth'],_0x130303['data']['imageHeight'],_0x130303['data']['landscapeImage'],_0x130303['data']['landscapeImageWidth'],_0x130303['data']['landscapeImageHeight'],showDebugData);var _0x1b2401=Math['round']((this['performance']['now']()-_0x37b86e)*0x3e8)/0x3e8;processCount+=0x1;totalProcesstime+=_0x1b2401;averageProcessTime=Math['round'](totalProcesstime/processCount*0x3e8)/0x3e8;if(_0x3099c8!==null){_0x3f0823={'feedback':_0x3099c8['feedback']['value'],'fte':_0x3099c8['fte'],'fteReason':_0x3099c8['fteReason'],'nextPhase':_0x3099c8['nextPhase']['value'],'nextPhaseName':_0x3099c8['nextPhase']['constructor']['name'],'deviceTier':_0x3099c8['deviceTier']+0x1,'sizeCategory':_0x3099c8['sizeCategory'],'brightnessScore':_0x3099c8['brightnessScore'],'lowLightDetected':_0x3099c8['lowLightDetected']};_0x3099c8['delete']();}postMessage({'process':_0x130303['data']['process'],'faceResult':_0x3f0823,'responseTime':_0x1b2401,'averageProcessTime':averageProcessTime});break;case'createIDScanMap':var _0x5111b7;var _0x557b66;try{for(var _0x4915d0=0x0;_0x4915d0<_0x130303['data']['idScan']['frontImages']['length'];_0x4915d0++){Module['processFrontDocumentImage'](_0x130303['data']['idScan']['frontImages'][_0x4915d0]['image'],_0x130303['data']['idScan']['frontImages'][_0x4915d0]['width'],_0x130303['data']['idScan']['frontImages'][_0x4915d0]['height']);}for(var _0x4915d0=0x0;_0x4915d0<_0x130303['data']['idScan']['backImages']['length'];_0x4915d0++){Module['processBackDocumentImage'](_0x130303['data']['idScan']['backImages'][_0x4915d0]['image'],_0x130303['data']['idScan']['backImages'][_0x4915d0]['width'],_0x130303['data']['idScan']['backImages'][_0x4915d0]['height']);}var _0x5111b7=Module['createIdentityDocument'](_0x130303['data']['idScan']['dzh']);var _0x15050a=_0x5111b7['idScan'];var _0x557b66=new Blob([_0x15050a],{'type':'application/octet-stream'});var _0xc04e65=_0x5111b7['uuid'];}catch(_0x127bbc){console['error']('ZoOm\x20Error:\x20832766\x20'+_0x127bbc);}postMessage({'process':_0x130303['data']['process'],'idScanMap':_0x557b66,'uuid':_0xc04e65});if(_0x5111b7){_0x5111b7['delete']();}break;default:console['warn']('Invalid\x20process\x20sent\x20to\x20worker:'+_0x130303['data']['process']);break;}};